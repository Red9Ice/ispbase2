/**
 * @file: diary.md
 * @description: Project diary with decisions and issues.
 * @dependencies: docs/project.md
 * @created: 2026-01-26
 */

# Project Diary

## 2026-01-26
### Наблюдения
- Требуется единый сервис для учета мероприятий, персонала и договоров.
- Нужна модульная архитектура с возможностью масштабирования.
- Для требований важны статусы жизненного цикла мероприятий и назначений.
- Получены ответы по стеку, статусам и интеграциям.
 - Уточнены статусы мероприятий, формат dashboard и способы импорта.
 - Начато проектирование ER-модели.
 - Зафиксированы ограничения и индексы для ключевых сущностей.
 - Принята максимальная кастомизация ролей и типов контрактов.
 - Подготовлена первичная SQL-схема.
 - Начато проектирование API и структуры проекта.
 - Стартует инициализация каркасов backend/frontend.
 - Каркасы создаются вручную без npm/npx.
 - Начата подготовка базовых конфигов и окружения.
 - Подготовлены tsconfig и env.example для backend/frontend.
 - Стартовал MVP: подготовлены DTO для Events и Staff.
 - Определены правила валидации для DTO.
 - Добавлены in-memory контуры CRUD для Events и Staff.
 - Добавлены in-memory контроллеры для событий и персонала.
 - Добавлена базовая валидация и обработка ошибок в сервисах.
 - Начата подготовка модуля назначений персонала.
 - Подготовлены in-memory DTO/CRUD контуры для назначений.
 - Начата работа над отчетом по занятости.
 - Реализован in-memory отчет по занятости.
 - Добавлена фильтрация назначений по статусу и периоду.
 - Добавлен продвинутый поиск мероприятий.
 - Добавлены сортировка и пагинация мероприятий.
 - Требуется переинициализация frontend (Vite).
 - Начата сборка UI каркаса frontend.

### Решения
- Принята модульная монолитная архитектура с четкими слоями.
- Зафиксированы базовые модули и роли пользователей.
- Добавлены черновые требования по модулям, отчетам и аудитам.
- Подтвержден стек Node.js/NestJS/PostgreSQL/Redis/React.
- Уточнены статусы мероприятий и требования к уведомлениям (email).
 - Принят вариант статусов C и расширенный dashboard с подразделами.
 - Импорт данных: CSV/Excel, API и ручной ввод.
 - Сформирован черновик сущностей и связей в ER-модели.
 - Добавлены ограничения целостности и индексы для производительности.
 - Роли назначений и типы контрактов сделаны справочниками.
 - Миграция 001_init.sql зафиксирована как базовая схема.
 - Добавлены черновые документы API и структуры проекта.
 - Выбран каркас NestJS для backend и Vite React для frontend.
 - Решено создать минимальные каркасы вручную.
 - Решено подготовить базовые конфиги без npm.
 - Зафиксированы шаблоны env и скриптов.
 - MVP начат с Events/Staff и ручных модулей.
 - Зафиксированы правила валидации для первичного CRUD.
 - Решено использовать in-memory репозитории до подключения БД.
 - Контроллеры реализованы как слой адаптеров для сервисов.
 - CRUD дополнен проверками и валидационными ошибками.
 - Назначения персонала оформляются отдельным модулем.
 - Назначения готовы для интеграции с событиями/персоналом.
 - Отчет по занятости будет строиться на назначениях.
 - Добавлен сервис/контроллер отчета по занятости.
 - Назначения расширены фильтрами и получением по id.
 - Поиск мероприятий включает фильтры по датам/статусу/клиенту/бюджету.
 - Список мероприятий поддерживает сортировку и пагинацию.
 - Ручной каркас frontend заменяется на Vite.
 - Начата подготовка layout/навигации/страниц.

### Проблемы
- Требуется подтвердить состав метрик по каждому подразделу dashboard.
 - Нужны уточнения по ролям в назначениях и контрактных типах.
 - Требуется определить стартовые скрипты и окружение после генерации каркасов.
 - Отсутствуют npm/npx для генерации каркасов (нужна установка Node.js/npm).
